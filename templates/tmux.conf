#
# Poor man's HUD for Ember nodes.
# Render the active session, host, repo path, and recent activity directly in
# the tmux status line so operators can glance at node health.
#

set -g mouse on
setw -g mode-keys vi

set -g status on
set -g status-position top
set -g status-interval 2
set -g status-style bg=colour234,fg=colour136
set -g status-left-length 80
set -g status-right-length 140

# Solarized-inspired colors for window titles/borders.
set -g window-status-style bg=colour234,fg=colour244
set -g window-status-current-style bg=colour33,fg=colour230,bold

set -g @ember_repo "{{REPO_DIR}}"
set -g @ember_vault "{{VAULT_DIR}}"

set -g status-left ''
set -g status-right '#( {{REPO_DIR}}/scripts/tmux_battery.sh ) #[fg=colour244]| #[fg=colour37]%a %b %d %H:%M'

set -g pane-border-style fg=colour240
set -g pane-active-border-style fg=colour33
set -g message-style bg=colour33,fg=colour230

# Use a consistent prefix to avoid collisions with other tmux configs.
set -g prefix C-a
unbind C-b
bind C-a send-prefix

set -g default-shell /bin/zsh
set -g default-command '{{REPO_DIR}}/scripts/tmux_pane.sh'
